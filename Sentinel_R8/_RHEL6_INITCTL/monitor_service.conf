description "Process Monitor Service"

# Start when reaching multi-user runlevels and stop on others
start on runlevel [2345]
stop on runlevel [!2345]

# Ensure service respawns on failure
respawn
respawn limit 10 5

# Run as root
setuid root
setgid root

# Working directory and environment
env HOME=/root
chdir /opt/monitor_service

# Log to Upstart's log; script itself also logs to /var/log/monitor_service.log
console log

# Main process
exec /opt/monitor_service/monitor_service.sh

